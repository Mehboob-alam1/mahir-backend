# Railway / production profile (use with: --spring.profiles.active=railway)
# Disable default DataSource so we only use PostgreSQL from DATABASE_URL (RailwayDataSourceConfig).
server.port=${PORT:8080}
server.address=0.0.0.0
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration

# JWT and reset-password: set in Railway Variables (e.g. APP_JWT_SECRET, APP_RESET_PASSWORD_BASE_URL)
app.jwt.secret=${APP_JWT_SECRET:your-256-bit-secret-key-change-in-production-must-be-at-least-32-characters}
app.reset-password.base-url=${APP_RESET_PASSWORD_BASE_URL:https://your-app.up.railway.app}

# Create tables on first run (Railway Postgres starts empty)
spring.sql.init.mode=always
spring.sql.init.schema-locations=classpath:schema-postgres.sql

# JPA for PostgreSQL (we provide DataSource via RailwayDataSourceConfig)
# Force PostgreSQL dialect (override base application.properties MySQL dialect)
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
